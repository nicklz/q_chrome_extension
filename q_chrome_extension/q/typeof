#!/bin/bash

# Check if the argument is valid JSON
if jq -e . >/dev/null 2>&1 <<<"$1"; then
  # Check if the variable is a string
  if [[ "$1" =~ [[:alnum:]] ]]; then
    echo "string"
  fi


  # Check if the variable is a number
  if [[ "$1" =~ ^[+-]?[0-9]+$ ]]; then
    echo "number"
  fi

  # Check if the variable is an array
  if [[ "$(declare -p $1 2>/dev/null)" =~ "declare -a" ]]; then
    echo "array"
  fi

  # Check if the variable is an associative array (requires Bash 4.0+)
  if [[ "$(declare -p $1 2>/dev/null)" =~ "declare -A" ]]; then
    echo "object"
  fi

  # Check if the variable is a function
  if [[ "$(declare -F $1 2>/dev/null)" ]]; then
    echo "function"
  fi

  # Check if the variable is unset
  if [[ "$1" =~ ^\{ ]]; then
    echo "object"
  fi

else
  # Check if the variable is a string
  if [[ "$1" =~ [[:alnum:]] ]]; then
    echo "string"
  fi


  # Check if the variable is a number
  if [[ "$1" =~ ^[+-]?[0-9]+$ ]]; then
    echo "number"
  fi

  # Check if the variable is an array
  if [[ "$(declare -p $1 2>/dev/null)" =~ "declare -a" ]]; then
    echo "array"
  fi

  # Check if the variable is an associative array (requires Bash 4.0+)
  if [[ "$(declare -p $1 2>/dev/null)" =~ "declare -A" ]]; then
    echo "object"
  fi

  # Check if the variable is a function
  if [[ "$(declare -F $1 2>/dev/null)" ]]; then
    echo "function"
  fi


fi
